## フェーズリストのデザイン 
[指示]
以下の画面のデザインを実装しなさい
html,css,viewsについて編集してもよいです。

[指示書]
この画面は、ユニットを内包するフェーズを表示するための画面です。
デザインはモダンでシンプルなスタイルを採用します。

フレームワーク
Django
使用ライブラリ:
Bootstrap 5
jQuery
画面の構成要素:

現在のフェーズは、ユーザーがどのフェーズにいるかを明確に表示するためのセクションです。
現在のフェーズは、目立つようにデザインされ、選択された状態を示す視覚的な強調があります。
フェーズの新規作成

フェーズの新規作成は、ユーザーが新しいフェーズを追加するための操作を行うセクションです。
ボタンや入力フィールドなどの要素を使い、直感的で使いやすいインターフェースを提供します。
フェーズカード１

フェーズカード２

フェーズカード３

フェーズカードは、各フェーズの情報を示すコンポーネントです。
フェーズカードはユーザビリティに配慮したデザインで、シンプルで読みやすいフォントと適切なカラースキームを使用します。
フェーズカードの数は、プロジェクトのデータベースから取得し表示するようにします。
フェーズカードの表示ルール:

現在稼働中のフェーズカードがトップに表示されます。
現在稼働中のフェーズは複数表示される場合があります。
現在稼働中のフェーズは、フェーズのスタート日とデッドラインの間が現在の日時かどうかで判別されます。
フェーズカードの内容:
各フェーズカードには以下の情報が含まれます:

フェーズ名
進捗率
責任者名
期限
スタート予定日
フェーズカード内のユニット表示:

フェーズカード内の余白スペースには、内包するユニットをカードとして表示します。
ユニットカードは正方形の形状を持ち、はみ出る場合はスクロールして表示されるようにします。
ユニットカードには以下の情報が含まれます:
ユニット名
ユニット参加者（そのユニットのタスクにアサインされているすべてのメンバー）

## フェーズリストのデザイン 
[指示]
以下の機能を実装しなさい
html,viewsについて編集してもよいです。

[指示書]
phase list
この画面は、ユニットを内包するフェーズを表示するための画面です。
デザインはモダンでシンプルなスタイルを採用します。

フレームワーク
Django
使用ライブラリ:
Bootstrap 5
jQuery

現在稼働中のフェーズを画面のトップに表示する機能です。

現在稼働中のフェーズカードがトップに表示されます。
現在稼働中のフェーズは複数表示される場合があります。
現在稼働中のフェーズは、
フェーズのstart dayとdead lineの間に
現在の日時が入っているがどうかで判別されます。

表示用のhtmlは以下の中に組み込まれます
is_current_phaseがtrueであればこのなかのhtmlを表示します。

views.pyで現在稼働中のフェーズデータを準備して、htmlに送り、稼働中のフェーズ分フェーズタイルを表示します。

{% if is_current_phase %}
    
{% endif %}

[html]

[views.py]

##　進捗の計算
進捗を計算する方法についてアドバイスしなさい
あるプロジェクトの進捗率の計算です。

プロジェクトは2つのフェーズを持ちます。
それぞれに50%づつの進捗率を割り当てます。
つまり、1つのフェーズが完了するとプロジェクトの進捗は50％になります。

フェーズは2つのユニットを持ちます。
フェーズはそれぞれのユニットに50%づつ割り当てます
ユニット二つが完了するとフェーズは完了されます。
この時プロジェクトの進捗は50％になります。
しかし、フェーズが完了しなくても、1つのユニットが完了したときにプロジェクトの進捗を２５％と表示したいです。

この時にどのように計算すればこのような割合配分を計算できますか？

また、この話は具体的な数字を使っていますが、実際フェーズやユニットの数は複数になります

プロジェクト内のすべてのフェーズの割合を計算します。
フェーズの数がnであれば、各フェーズには1/nの割合が与えられます。

各フェーズ内のユニットの割合を計算します。各フェーズ内に含まれるユニットの数がmであれば、各ユニットには1/mの割合が与えられます。

各ユニット内のタスクの割合を計算します。各ユニット内に含まれるタスクの数がkであれば、各タスクには1/kの割合が与えられます。

タスクごとの進捗を計算します。各タスクには、そのタスクの割合に対応する進捗が与えられます。

ユニットごとの進捗を計算します。ユニット内のすべてのタスクが完了した場合に、そのユニットは完了となります。ユニットの進捗は、完了したタスクの割合に対応します。

フェーズごとの進捗を計算します。フェーズ内のすべてのユニットが完了した場合に、そのフェーズは完了となります。フェーズの進捗は、完了したユニットの割合に対応します。

プロジェクトの進捗を計算します。すべてのフェーズの割合に、完了したフェーズの割合を乗算して合計します。これによって、プロジェクトの進捗が導き出されます。

以上の手順によって、プロジェクトの進捗を計算することができます。進捗の計算には、各要素の割合を正確に把握する必要があります。


具体的に計算方法を示すために、次のようなプロジェクトを考えてみましょう。

- プロジェクトは2つのフェーズから成る（フェーズ1、フェーズ2）。
- フェーズ1には3つのユニットがあります（ユニット1-1、ユニット1-2、ユニット1-3）。
- フェーズ2には2つのユニットがあります（ユニット2-1、ユニット2-2）。
- 各ユニットには2つのタスクがあります。

計算のステップは次のとおりです：

1. 各フェーズの重みを計算します。プロジェクトには2つのフェーズがあるので、各フェーズの重みは1/2=0.5です。

2. フェーズ1内の各ユニットの重みを計算します。フェーズ1には3つのユニットがあるので、各ユニットの重みは1/3≈0.33です。

3. フェーズ2内の各ユニットの重みを計算します。フェーズ2には2つのユニットがあるので、各ユニットの重みは1/2=0.5です。

4. 各ユニットにはタスクが2つ存在するので、各タスクの重みは1/2です。

次に、各タスクの完了状況を考慮に入れます。例えば、次のような状況を想定してみましょう：

- ユニット1-1 [1,1]
- ユニット1-2 [1,1]
- ユニット1-3 [0,0]
- ユニット2-1 [0,0]
- ユニット2-2 [1,1]

5. 各ユニットの進捗率を計算します。
　各ユニットの進捗 = (タスク1の進捗 × タスク1の重み) + (タスク2の進捗 × タスク2の重み)
 　ユニット1-1の場合
   = (100% × 0.5) + (100% × 0.5)
                     = 100%

6. フェーズ1の進捗率を計算します。ユニット1-1とユニット1-2は完了しているので、それぞれの進捗は100%です。しかし、ユニット1-3はまだなので、その進捗は0%です。これらの進捗をそれぞれのユニットの重みで掛け合わせてから合計します。これにより、フェーズ1の進捗を求めることができます。

   フェーズ1の進捗 = (ユニット1-1の進捗 × ユニット1-1の重み) + (ユニット1-2の進捗 × ユニット1-2の重み) + (ユニット1-3の進捗 × ユニット1-3の重み)
                     = (100% × 0.33) + (100% × 0.33) + (0% × 0.33)
                     = 66.67%

7. 同様にして、フェーズ2の進捗を計算します：

   フェーズ2の進捗 = (ユニット2-1の進捗 × ユニット2-1の重み) + (ユニット2-2の進捗 × ユニット2-2の重み)
                     = (0% × 0.5) + (100% × 0.5)
                     = 50%

8. 最後に、全体のプロジェクト進捗を計算します。これは、各フェーズの進捗をそのフェーズの重みで掛けたものを合計します：

   プロジェクト進捗 = (フェーズ1の進捗 × フェーズ1の重み) + (フェーズ2の進捗 × フェーズ2の重み)
                    = (66.67% × 0.5) + (50% × 0.5)
                    = 33.33% + 25%
                    = 58.33%

以上の手順により、プロジェクトの進捗率を計算することができます。

## プロジェクトリストの進捗計算方法の変更
[指示]
プロジェクトの進捗の計算方法を変更しなさい

モデルコードのアルゴリズムをdjangoのviews.py内に実装しなさい。
[モデルコード]
# 各フェーズ、ユニット、タスクの進捗状況
project = {
    "Phase 1": {
        "Unit 1-1": [1, 1],
        "Unit 1-2": [1, 1],
        "Unit 1-3": [0, 0]
    },
    "Phase 2": {
        "Unit 2-1": [0, 0],
        "Unit 2-2": [1, 1]
    }
}

# 各フェーズ、ユニット、タスクの重み
phase_weight = 1.0 / len(project)
unit_weight_phase_1 = 1.0 / len(project["Phase 1"])
unit_weight_phase_2 = 1.0 / len(project["Phase 2"])
task_weight = 0.5

# プロジェクト進捗率の計算
project_progress = 0.0

for phase in project:
    # 各フェーズの進捗率の計算
    phase_progress = 0.0
    for unit in project[phase]:
        # 各ユニットの進捗率の計算
        unit_progress = sum(task * task_weight for task in project[phase][unit])
        phase_progress += unit_progress * (unit_weight_phase_1 if phase == "Phase 1" else unit_weight_phase_2)
    project_progress += phase_progress * phase_weight

print(f"プロジェクトの進捗率: {project_progress * 100}%")

[views.py]
