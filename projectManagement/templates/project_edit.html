{% extends 'app_base.html' %}

{% block title %}プロジェクト編集{% endblock %}

{% block styles %}
{% load static %}
<link rel="stylesheet" href="{% static 'css/project_edit.css' %}">
{% endblock %}

{% block content %}
<div class="project-edit">
  <h2>プロジェクト編集</h2>
  <form method="post">
    {% csrf_token %}
    <div class="form-group">
      <label for="project-name">プロジェクト名</label>
      <input type="text" id="project-name" name="project_name" value="{{ project.project_name }}" required>
    </div>
    <div class="form-group">
      <label for="project-description">プロジェクトの説明</label>
      <textarea id="project-description" name="project_description" rows="4" required>{{ project.project_description }}</textarea>
    </div>
    <div class="form-group">
      <label for="invite-email">プロジェクトメンバーの招待</label>
      <input type="email" id="invite-email" name="invite_email" placeholder="メールアドレス" required>
      <select id="invite-role" name="invite_role" required>
        <option value="" selected disabled>権限</option>
        <option value="1">権限1</option>
        <option value="2">権限2</option>
        <option value="3">権限3</option>
      </select>
      <button type="button" id="send-invitation">メール送信</button>
    </div>
    <div class="form-group">
      <label for="project-members">プロジェクトメンバーの編集</label>
      <select id="project-members" name="project_members[]" multiple required>
        {% for member in project.members %}
        <option value="{{ member.id }}">{{ member.email }}</option>
        {% endfor %}
      </select>
      <button type="button" id="change-permissions">権限の変更</button>
      <button type="button" id="delete-member">削除</button>
    </div>
    <div class="form-group">
      <label for="project-deadline">プロジェクト期限</label>
      <input type="date" id="project-deadline" name="project_deadline" value="{{ project.project_deadline }}" required>
    </div>
    <div class="form-group">
      <label for="project-priority">プロジェクトの優先度設定</label>
      <select id="project-priority" name="project_priority" required>
        <option value="" selected disabled>優先度</option>
        <option value="1" {% if project.project_priority == 1 %}selected{% endif %}>低</option>
        <option value="2" {% if project.project_priority == 2 %}selected{% endif %}>中</option>
        <option value="3" {% if project.project_priority == 3 %}selected{% endif %}>高</option>
      </select>
    </div>
    <button type="submit" class="btn-update">更新する</button>
  </form>
</div>
{% endblock %}

{% block scripts %}
{% endblock %}
